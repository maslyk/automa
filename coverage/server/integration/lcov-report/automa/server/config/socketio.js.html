<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for automa\server\config\socketio.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../prettify.css" />
    <link rel="stylesheet" href="../../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../../index.html">all files</a> / <a href="index.html">automa/server/config/</a> socketio.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">41.67% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>10/24</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>4/4</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">25% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>2/8</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">39.13% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>9/23</span>
      </div>
      <div class='fl pad1y'>
        <span class="strong">1 branch</span>
        <span class="quiet">Ignored</span>  &nbsp;&nbsp;&nbsp;&nbsp;
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
 * Socket.io configuration
 */
'use strict';
&nbsp;
Object.defineProperty(exports, '__esModule', {
  value: true
});
// istanbul ignore next
&nbsp;
function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? <span class="branch-0 cbranch-skip" title="branch not covered" >obj </span>: { 'default': obj }; }
&nbsp;
var _environment = require('./environment');
&nbsp;
var _environment2 = _interopRequireDefault(_environment);
&nbsp;
// When the user disconnects.. perform this
<span class="fstat-no" title="function not covered" >function onDisconnect(socket) {</span>}
&nbsp;
// When the user connects.. perform this
<span class="fstat-no" title="function not covered" >function onConnect(socket) {</span>
  // When the client emits 'info', this listens and executes
<span class="cstat-no" title="statement not covered" >  socket.on('info', <span class="fstat-no" title="function not covered" >function (data) {</span></span>
<span class="cstat-no" title="statement not covered" >    socket.log(JSON.stringify(data, null, 2));</span>
  });
&nbsp;
  // Insert sockets below
<span class="cstat-no" title="statement not covered" >  require('../api/thing/thing.socket').register(socket);</span>
}
&nbsp;
exports['default'] = function (socketio) {
  // socket.io (v1.x.x) is powered by debug.
  // In order to see all the debug output, set DEBUG (in server/config/local.env.js) to including the desired scope.
  //
  // ex: DEBUG: "http*,socket.io:socket"
&nbsp;
  // We can authenticate socket.io users and access their token through socket.decoded_token
  //
  // 1. You will need to send the token in `client/components/socket/socket.service.js`
  //
  // 2. Require authentication here:
  // socketio.use(require('socketio-jwt').authorize({
  //   secret: config.secrets.session,
  //   handshake: true
  // }));
&nbsp;
  socketio.on('connection', <span class="fstat-no" title="function not covered" >function (socket) {</span>
<span class="cstat-no" title="statement not covered" >    socket.address = socket.request.connection.remoteAddress + ':' + socket.request.connection.remotePort;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    socket.connectedAt = new Date();</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    socket.log = <span class="fstat-no" title="function not covered" >function () {</span></span>
<span class="cstat-no" title="statement not covered" >      for (var _len = arguments.length, data = Array(_len), _key = 0; _key &lt; _len; _key++) {</span>
<span class="cstat-no" title="statement not covered" >        data[_key] = arguments[_key];</span>
      }
&nbsp;
<span class="cstat-no" title="statement not covered" >      console.log.apply(console, ['SocketIO ' + socket.nsp.name + ' [' + socket.address + ']'].concat(data));</span>
    };
&nbsp;
    // Call onDisconnect.
<span class="cstat-no" title="statement not covered" >    socket.on('disconnect', <span class="fstat-no" title="function not covered" >function () {</span></span>
<span class="cstat-no" title="statement not covered" >      onDisconnect(socket);</span>
<span class="cstat-no" title="statement not covered" >      socket.log('DISCONNECTED');</span>
    });
&nbsp;
    // Call onConnect.
<span class="cstat-no" title="statement not covered" >    onConnect(socket);</span>
<span class="cstat-no" title="statement not covered" >    socket.log('CONNECTED');</span>
  });
};
&nbsp;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6L2dpdC9hdXRvbWEvc2VydmVyL2NvbmZpZy9zb2NrZXRpby5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFHQSxZQUFZLENBQUM7Ozs7Ozs7OzsyQkFFTSxlQUFlOzs7OztBQUdsQyxTQUFTLFlBQVksQ0FBQyxNQUFNLEVBQUUsRUFDN0I7OztBQUdELFNBQVMsU0FBUyxDQUFDLE1BQU0sRUFBRTs7QUFFekIsUUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsVUFBQSxJQUFJLEVBQUk7QUFDeEIsVUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztHQUMzQyxDQUFDLENBQUM7OztBQUdILFNBQU8sQ0FBQywyQkFBMkIsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztDQUV2RDs7cUJBRWMsVUFBUyxRQUFRLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQmhDLFVBQVEsQ0FBQyxFQUFFLENBQUMsWUFBWSxFQUFFLFVBQVMsTUFBTSxFQUFFO0FBQ3pDLFVBQU0sQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsYUFBYSxHQUN0RCxHQUFHLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDOztBQUU3QyxVQUFNLENBQUMsV0FBVyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7O0FBRWhDLFVBQU0sQ0FBQyxHQUFHLEdBQUcsWUFBa0I7d0NBQU4sSUFBSTtBQUFKLFlBQUk7OztBQUMzQixhQUFPLENBQUMsR0FBRyxNQUFBLENBQVgsT0FBTyxpQkFBaUIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLFVBQUssTUFBTSxDQUFDLE9BQU8sZUFBUSxJQUFJLEVBQUMsQ0FBQztLQUN6RSxDQUFDOzs7QUFHRixVQUFNLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxZQUFNO0FBQzVCLGtCQUFZLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDckIsWUFBTSxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQztLQUM1QixDQUFDLENBQUM7OztBQUdILGFBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUNsQixVQUFNLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0dBQ3pCLENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6IkM6L2dpdC9hdXRvbWEvc2VydmVyL2NvbmZpZy9zb2NrZXRpby5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU29ja2V0LmlvIGNvbmZpZ3VyYXRpb25cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgY29uZmlnIGZyb20gJy4vZW52aXJvbm1lbnQnO1xuXG4vLyBXaGVuIHRoZSB1c2VyIGRpc2Nvbm5lY3RzLi4gcGVyZm9ybSB0aGlzXG5mdW5jdGlvbiBvbkRpc2Nvbm5lY3Qoc29ja2V0KSB7XG59XG5cbi8vIFdoZW4gdGhlIHVzZXIgY29ubmVjdHMuLiBwZXJmb3JtIHRoaXNcbmZ1bmN0aW9uIG9uQ29ubmVjdChzb2NrZXQpIHtcbiAgLy8gV2hlbiB0aGUgY2xpZW50IGVtaXRzICdpbmZvJywgdGhpcyBsaXN0ZW5zIGFuZCBleGVjdXRlc1xuICBzb2NrZXQub24oJ2luZm8nLCBkYXRhID0+IHtcbiAgICBzb2NrZXQubG9nKEpTT04uc3RyaW5naWZ5KGRhdGEsIG51bGwsIDIpKTtcbiAgfSk7XG5cbiAgLy8gSW5zZXJ0IHNvY2tldHMgYmVsb3dcbiAgcmVxdWlyZSgnLi4vYXBpL3RoaW5nL3RoaW5nLnNvY2tldCcpLnJlZ2lzdGVyKHNvY2tldCk7XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc29ja2V0aW8pIHtcbiAgLy8gc29ja2V0LmlvICh2MS54LngpIGlzIHBvd2VyZWQgYnkgZGVidWcuXG4gIC8vIEluIG9yZGVyIHRvIHNlZSBhbGwgdGhlIGRlYnVnIG91dHB1dCwgc2V0IERFQlVHIChpbiBzZXJ2ZXIvY29uZmlnL2xvY2FsLmVudi5qcykgdG8gaW5jbHVkaW5nIHRoZSBkZXNpcmVkIHNjb3BlLlxuICAvL1xuICAvLyBleDogREVCVUc6IFwiaHR0cCosc29ja2V0LmlvOnNvY2tldFwiXG5cbiAgLy8gV2UgY2FuIGF1dGhlbnRpY2F0ZSBzb2NrZXQuaW8gdXNlcnMgYW5kIGFjY2VzcyB0aGVpciB0b2tlbiB0aHJvdWdoIHNvY2tldC5kZWNvZGVkX3Rva2VuXG4gIC8vXG4gIC8vIDEuIFlvdSB3aWxsIG5lZWQgdG8gc2VuZCB0aGUgdG9rZW4gaW4gYGNsaWVudC9jb21wb25lbnRzL3NvY2tldC9zb2NrZXQuc2VydmljZS5qc2BcbiAgLy9cbiAgLy8gMi4gUmVxdWlyZSBhdXRoZW50aWNhdGlvbiBoZXJlOlxuICAvLyBzb2NrZXRpby51c2UocmVxdWlyZSgnc29ja2V0aW8tand0JykuYXV0aG9yaXplKHtcbiAgLy8gICBzZWNyZXQ6IGNvbmZpZy5zZWNyZXRzLnNlc3Npb24sXG4gIC8vICAgaGFuZHNoYWtlOiB0cnVlXG4gIC8vIH0pKTtcblxuICBzb2NrZXRpby5vbignY29ubmVjdGlvbicsIGZ1bmN0aW9uKHNvY2tldCkge1xuICAgIHNvY2tldC5hZGRyZXNzID0gc29ja2V0LnJlcXVlc3QuY29ubmVjdGlvbi5yZW1vdGVBZGRyZXNzICtcbiAgICAgICc6JyArIHNvY2tldC5yZXF1ZXN0LmNvbm5lY3Rpb24ucmVtb3RlUG9ydDtcblxuICAgIHNvY2tldC5jb25uZWN0ZWRBdCA9IG5ldyBEYXRlKCk7XG5cbiAgICBzb2NrZXQubG9nID0gZnVuY3Rpb24oLi4uZGF0YSkge1xuICAgICAgY29uc29sZS5sb2coYFNvY2tldElPICR7c29ja2V0Lm5zcC5uYW1lfSBbJHtzb2NrZXQuYWRkcmVzc31dYCwgLi4uZGF0YSk7XG4gICAgfTtcblxuICAgIC8vIENhbGwgb25EaXNjb25uZWN0LlxuICAgIHNvY2tldC5vbignZGlzY29ubmVjdCcsICgpID0+IHtcbiAgICAgIG9uRGlzY29ubmVjdChzb2NrZXQpO1xuICAgICAgc29ja2V0LmxvZygnRElTQ09OTkVDVEVEJyk7XG4gICAgfSk7XG5cbiAgICAvLyBDYWxsIG9uQ29ubmVjdC5cbiAgICBvbkNvbm5lY3Qoc29ja2V0KTtcbiAgICBzb2NrZXQubG9nKCdDT05ORUNURUQnKTtcbiAgfSk7XG59XG4iXX0=</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Thu Jan 14 2016 23:19:27 GMT-0600 (Central America Standard Time)
</div>
</div>
<script src="../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../sorter.js"></script>
</body>
</html>
